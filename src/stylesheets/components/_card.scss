/*-------------------
       USA CARD
--------------------*/
$sds-card-border-width: 1px;
$sds-card-border-radius: border-radius('md');
$inner-border-radius: calc(#{$sds-card-border-radius} - #{$sds-card-border-width});

.usa-card {

  &__container {
    @include u-padding(0);
    @include u-border('base-light', 'solid', $sds-card-border-width);
    border-radius: $sds-card-border-radius;
    @include u-shadow(2);
    @include u-margin-x(0);
    line-height: 1.15;
  }

  &__header {

    h1, h2, h3, h4, h5, h6, .usa-link:not(:hover) {
      color: inherit;
      margin: none;

      + * {
        margin: unset
      }
    }

    .usa-link {
      text-decoration: none;
    }

    .usa-button {
      padding: 0.75rem 1.25rem;
    }

    @include u-padding-y($theme-card-padding-perimeter);

    &--center {
      svg {
        @include u-margin-right(1);
      }

      >* {
        @include u-display('inline-block');
        @include u-text('bottom');
      }
    }

    &--stacked,
    &--center {
      @include u-text('center');
    }

    &--action {
      @include u-display('flex');

      .usa-card__heading {
        @include u-flex('fill');
      }
      .sds-card__action {
        margin-top: 0;
      }
    }
  }

  &__buttons {
    .usa-button {
      @include u-width(full);

      @include at-media('tablet-lg') {
        @include u-width('auto');
        margin-left: units(1);
        margin-right: units(0);
      }
    }
  }

  &--height-full {
    @include u-height('full');
  }
  &--list {
    @include u-border(0);
    .usa-card__body{
      padding: 0;
    }
    li {
      @include bordered-item();
    }

    .usa-card__header {
      @include bordered-item(true);
    }
  }

  .sds-card__header--flex {
    display: flex;
    justify-content: space-between;
    align-items: center;;
  }
}

.usa-card.sds-card--vertical {
  .usa-card__container {
    @include at-media('mobile') {
      flex-direction: column;
    }
    
    @include at-media('tablet-lg') {
      flex-direction: row;
    }
  }

  .usa-card__header {
    border-right: 1px solid #cac9c0;
  }
}

.sds-card--collapsible.sds-card--collapsed {
  .sds-card__collapse::after {
    transform: rotate(90deg);
  }
}

.sds-card--collapsible {
  @include u-radius(0);
  @include u-margin-bottom(0);

  /** Expansion indicator on the right for collapsible cards **/
  .sds-card__collapse {
    transition: transform 0.2s ease-in;
    width: 33px;
    height: 33px;
    transform: rotate(180deg);
    right: 10px;
    border-radius: 50%;
    background-color: color('base-lightest');
    @include u-margin-bottom(0);
  
    .sds-card__collapse::before {
      transform: rotate(90deg);
    }
  }
  
  .sds-card__collapse::before {
    content: '';
    display: block;
    width: 14px;
    height: 0;
    border-bottom: solid 1px #0a3466;
    position: absolute;
    left: 9px;
    bottom: 16px;
    transform: rotate(180deg);
    transition: width 0.2s ease-in;
  }

  .sds-card__collapse::after {
    content: '';
    display: block;
    width: 14px;
    height: 0;
    border-bottom: solid 1px #0a3466;
    position: absolute;
    left: 9px;
    bottom: 16px;
    transform: rotate(180deg);
    transition: width 0.2s ease-in;
  }

  .usa-card__header {
    cursor: pointer;
    @include u-font-family('sans');
    @include u-text('semibold');
    @include u-padding(2);

    .usa-card__heading {
      @include u-font-size('body', 'xs');
    }

    .sds-card__subtitle {
      @include u-margin-y(0);
      @include u-display('inline-block');
      @include u-text('secondary-dark');
      @include u-text('bold');
    }
  }

  .usa-card__body {
    display: none;
  }

  .usa-card__header[aria-expanded=true] + .usa-card__body {
    display: block;
  }
}
